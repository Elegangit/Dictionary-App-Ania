(this.csbJsonP=this.csbJsonP||[]).push([["default~app~embed~sandbox~sandbox-startup"],{"../codesandbox-api/dist/codesandbox.es5.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Protocol",(function(){return d})),n.d(t,"transformError",(function(){return o})),n.d(t,"clearErrorTransformers",(function(){return i})),n.d(t,"registerErrorTransformer",(function(){return a})),n.d(t,"actions",(function(){return b})),n.d(t,"isStandalone",(function(){return w})),n.d(t,"iframeHandshake",(function(){return S})),n.d(t,"resetState",(function(){return $})),n.d(t,"dispatch",(function(){return O})),n.d(t,"listen",(function(){return I})),n.d(t,"notifyListeners",(function(){return D})),n.d(t,"registerFrame",(function(){return P})),n.d(t,"reattach",(function(){return j}));var r=[];function o(e,t,n){return r.map((function(r){return r(e,t,n)})).filter((function(e){return null!=e}))[0]}function i(){r.length=0}function a(e){r.push(e)}var s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(){return Math.floor(1e6*Math.random()+1e6*Math.random())},d=function(){function e(e,t,n){var r=this;this.type=e,this.handleMessage=t,this.target=n,this.outgoingMessages=new Set,this._messageListener=function(e){return s(r,void 0,void 0,(function(){var t,n,r;return l(this,(function(o){switch(o.label){case 0:return(t=e.data).$type!==this.getTypeId()||this.outgoingMessages.has(t.$id)?[2]:[4,this.handleMessage(t.$data)];case 1:return n=o.sent(),r={$originId:this.internalId,$type:this.getTypeId(),$data:n,$id:t.$id},e.source?e.source.postMessage(r,"*"):this._postMessage(r),[2]}}))}))},this.createConnection(),this.internalId=c(),this.isWorker="Worker"===function(e){try{return e.constructor.name}catch(t){return""}}(n)}return e.prototype.getTypeId=function(){return"p-"+this.type},e.prototype.createConnection=function(){self.addEventListener("message",this._messageListener)},e.prototype.dispose=function(){self.removeEventListener("message",this._messageListener)},e.prototype.sendMessage=function(e){var t=this;return new Promise((function(n){var r=c(),o={$originId:t.internalId,$type:t.getTypeId(),$data:e,$id:r};t.outgoingMessages.add(r);var i=function(e){var o=e.data;o.$type===t.getTypeId()&&o.$id===r&&o.$originId!==t.internalId&&(n(o.$data),self.removeEventListener("message",i))};self.addEventListener("message",i),t._postMessage(o)}))},e.prototype._postMessage=function(e){this.isWorker||"undefined"!==typeof DedicatedWorkerGlobalScope&&this.target instanceof DedicatedWorkerGlobalScope?this.target.postMessage(e):this.target.postMessage(e,"*")},e}();var u=Object.freeze({show:function(e,t,n){return void 0===t&&(t="notice"),void 0===n&&(n=2),{type:"action",action:"notification",title:e,notificationType:t,timeAlive:n}}});var p=Object.freeze({openModule:function(e,t,n){return{type:"action",action:"editor.open-module",path:e,lineNumber:t,column:n}}});var f=Object.freeze({add:function(e){return{type:"action",action:"source.dependencies.add",dependency:e}}}),h=Object.freeze({rename:function(e,t){return{type:"action",action:"source.module.rename",path:e,title:t}}});var b={notifications:u,editor:p,source:Object.freeze({dependencies:f,modules:h}),error:Object.freeze({show:function(e,t,n){var r=n.line,o=n.column,i=n.lineEnd,a=n.columnEnd;return{title:e,message:t,line:r,column:o,path:n.path,payload:n.payload,lineEnd:i,columnEnd:a,severity:"error",type:"action",action:"show-error",source:n.source||"browser"}},clear:function(e,t){return{type:"action",action:"clear-errors",path:e,source:t}}}),correction:Object.freeze({show:function(e,t){var n=void 0===t?{path:"",severity:"warning",source:""}:t,r=n.line,o=n.column,i=n.lineEnd,a=n.columnEnd,s=n.path,l=n.payload,c=n.severity,d=void 0===c?"warning":c,u=n.source;return{message:e,line:r,column:o,lineEnd:i,columnEnd:a,path:s,payload:l,severity:d,source:void 0===u?"":u,type:"action",action:"show-correction"}},clear:function(e,t){return{type:"action",action:"clear-corrections",path:e,source:t}}}),glyph:Object.freeze({show:function(e){return{line:e.line,path:e.path,className:e.className,type:"action",action:"show-glyph"}}})},m="undefined"!==typeof e&&"https://codesandbox.io"||"https://codesandbox.io",g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},U=new Map;var v,w="undefined"===typeof window||!!(window.location&&window.location.href.indexOf("?standalone")>-1)||!window.opener&&window.parent===window||!!(window.location&&window.location.href.indexOf(m)>-1),y=!1,S=new Promise((function(e){v=e})),R=null,x=null,_=function(e){var t;"register-frame"!==e.data.type||x||(R=e.data.origin,x=null!==(t=e.data.id)&&void 0!==t?t:null,y||(v(),y=!0),self.removeEventListener("message",_))};function $(){R=null,U.clear()}function O(e){if(e){var t=g(g({},e),{codesandbox:!0});null!==x&&(t.$id=x),D(t),function(e){var t=JSON.parse(JSON.stringify(e));U.forEach((function(e,n){n&&n.postMessage&&n.postMessage(g(g({},t),{codesandbox:!0}),e)}))}(t),w||null===R&&"initialized"!==e.type||(window.opener?window.opener.postMessage(t,null===R?"*":R):window.parent.postMessage(t,null===R?"*":R))}}"undefined"!==typeof window&&self.addEventListener("message",_);var A={},E=0;function I(e){var t=++E;return A[t]=e,function(){delete A[t]}}function D(e,t){Object.keys(A).forEach((function(n){if(A[n])try{A[n](e,t)}catch(r){}}))}function L(e){if(("initialized"===e.data.type||w)&&(y=!0),y){var t=e.data;!t||!t.codesandbox||null!==R&&e.origin!==R||null!=t.$id&&null!==x&&x!==t.$id||D(t,e.source)}}function P(e,t,n){U.set(e,t),e.postMessage({type:"register-frame",origin:document.location.origin,id:n},t)}function j(){window.addEventListener("message",L)}"undefined"!==typeof window&&window.addEventListener("message",L)}.call(this,n("../../node_modules/process/browser.js"))},"../common/lib/templates/helpers/is-server.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isServer=void 0;const r=["adonis","apollo","docusaurus","ember","gatsby","gridsome","marko","mdx-deck","nest","next","node","nuxt","quasar","remix","sapper","styleguidist","unibit","vuepress"];t.isServer=e=>-1!==r.indexOf(e)},"../common/lib/utils/url-generator.js":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dashboard=t.teamInviteLink=t.getSandboxId=t.privacyUrl=t.tosUrl=t.curatorUrl=t.patronUrl=t.searchUrl=t.gitHubToSandboxUrl=t.optionsToParameterizedUrl=t.githubRepoUrl=t.profileLikesUrl=t.profileSandboxesUrl=t.teamOverviewUrl=t.exploreUrl=t.dashboardUrl=t.profileUrl=t.signInVercelUrl=t.signInUrl=t.signInPageUrl=t.forkSandboxUrl=t.frameUrl=t.embedUrl=t.sandboxUrl=t.editorUrl=t.uploadFromCliUrl=t.newCxJSSandboxUrl=t.newAngularSandboxUrl=t.newSvelteSandboxUrl=t.importFromGitHubUrl=t.newVueSandboxUrl=t.newPreactSandboxUrl=t.newDojoSandboxUrl=t.newReactTypeScriptSandboxUrl=t.parcelSandboxUrl=t.newSandboxUrl=t.newSandboxWizard=t.protocolAndHost=t.host=t.gitHubRepoPattern=void 0;const a=n("../common/lib/templates/helpers/is-server.js"),s=i(n("../common/lib/utils/url-generator/dashboard.js"));t.dashboard=s,t.gitHubRepoPattern=/(https?:\/\/)?((www.)?)github.com(\/[\w-]+){2,}/;const l=/(https?:\/\/)?((www.)?)github.com/,c=/(\.git)$/,d={"https://codesandbox.io":"https://csb.app","https://codesandbox.stream":"https://codesandbox.dev"},u=(e,...t)=>e[0]+t.map((t,n)=>`${encodeURIComponent(t)}${e[n+1]}`).join("");t.host=()=>"https://codesandbox.io".split("//")[1];t.protocolAndHost=()=>`${location.protocol}//${t.host()}`;t.newSandboxWizard=()=>"/s";t.newSandboxUrl=()=>"/s/new";t.parcelSandboxUrl=()=>"/s/vanilla";t.newReactTypeScriptSandboxUrl=()=>"/s/react-ts";t.newDojoSandboxUrl=()=>"/s/github/dojo/dojo-codesandbox-template";t.newPreactSandboxUrl=()=>"/s/preact";t.newVueSandboxUrl=()=>"/s/vue";t.importFromGitHubUrl=()=>"/s/github";t.newSvelteSandboxUrl=()=>"/s/svelte";t.newAngularSandboxUrl=()=>"/s/angular";t.newCxJSSandboxUrl=()=>"/s/github/codaxy/cxjs-codesandbox-template";t.uploadFromCliUrl=()=>"/s/cli";const p=e=>u`github/${e.username}/${e.repo}/tree/${e.branch}/`+e.path;t.editorUrl=()=>"/s/";t.sandboxUrl=e=>{if(e.git){const{git:n}=e;return`${t.editorUrl()}${p(n)}`}return e.alias?`${t.editorUrl()}${e.alias}`:`${t.editorUrl()}${e.id}`};t.embedUrl=e=>{if(e.git){const{git:t}=e;return"/embed/"+p(t)}return e.alias?"/embed/"+e.alias:"/embed/"+e.id};t.frameUrl=(e,n="",{useFallbackDomain:r=!1,port:o}={})=>{const i=0===n.indexOf("/")?n.substr(1):n,s=a.isServer(e.template);let l=t.host();return!("https://"+l in d)||r||s||(l=d["https://"+l].split("//")[1]),`${location.protocol}//${e.id}${o?"-"+o:""}.${s?"sse.":""}${l}/${i}`};t.forkSandboxUrl=e=>t.sandboxUrl(e)+"/fork";t.signInPageUrl=e=>{let t="/signin";return e&&(t+="?continue="+e),t};t.signInUrl=(e=!1)=>"/auth/github"+(e?"?scope=user:email,public_repo,workflow":"");t.signInVercelUrl=()=>"/auth/vercel";t.profileUrl=e=>"/u/"+e;t.dashboardUrl=()=>"/dashboard";t.exploreUrl=()=>"/explore";t.teamOverviewUrl=e=>"/dashboard/teams/"+e;t.profileSandboxesUrl=(e,n)=>`${t.profileUrl(e)}/sandboxes${n?"/"+n:""}`;t.profileLikesUrl=(e,n)=>`${t.profileUrl(e)}/likes${n?"/"+n:""}`;t.githubRepoUrl=({repo:e,branch:t,username:n,path:r})=>u`https://github.com/${n}/${e}/tree/${t}/`+r;t.optionsToParameterizedUrl=e=>{const t=Object.keys(e).sort().filter(t=>e[t]).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");return t?"?"+t:""};t.gitHubToSandboxUrl=e=>e.replace(l,"/s/github").replace(c,"");t.searchUrl=e=>"/search"+(e?"?query="+e:"");t.patronUrl=()=>"/patron";t.curatorUrl=()=>"/curator";t.tosUrl=()=>"/legal/terms";t.privacyUrl=()=>"/legal/privacy",t.getSandboxId=function(){const e="https://codesandbox.io";let t;if([e,d[e]].filter(Boolean).forEach(e=>{const n=e.replace(/https?:\/\//,"").replace(/\./g,"\\."),r=new RegExp("(.*)\\."+n),o=document.location.host.match(r);o&&(t=o[1])}),!t)throw new Error("Can't detect sandbox ID from the current URL");return t};t.teamInviteLink=e=>`${t.protocolAndHost()}/invite/${e}`},"../common/lib/utils/url-generator/dashboard.js":function(e,t,n){"use strict";function r(e,t){return t?`${e}?workspace=${t}`:e}Object.defineProperty(t,"__esModule",{value:!0}),t.discoverSearch=t.discover=t.search=t.permissionSettings=t.registrySettings=t.settings=t.home=t.liked=t.shared=t.deleted=t.recents=t.templates=t.alwaysOn=t.repos=t.drafts=t.allSandboxes=t.ALL_SANDBOXES_URL_PREFIX=t.DASHBOARD_URL_PREFIX=void 0,t.DASHBOARD_URL_PREFIX="/dashboard",t.ALL_SANDBOXES_URL_PREFIX=t.DASHBOARD_URL_PREFIX+"/all";t.allSandboxes=(e,n)=>r(`${t.ALL_SANDBOXES_URL_PREFIX}${function(e){return e.split("/").map(e=>e.split(" ").map(encodeURIComponent).join(" ")).join("/")}(e)}`,n);t.drafts=e=>r(t.DASHBOARD_URL_PREFIX+"/drafts",e);t.repos=e=>r(t.DASHBOARD_URL_PREFIX+"/repositories",e);t.alwaysOn=e=>r(t.DASHBOARD_URL_PREFIX+"/always-on",e);t.templates=e=>r(t.DASHBOARD_URL_PREFIX+"/templates",e);t.recents=e=>r(t.DASHBOARD_URL_PREFIX+"/recent",e);t.deleted=e=>r(t.DASHBOARD_URL_PREFIX+"/deleted",e);t.shared=e=>r(t.DASHBOARD_URL_PREFIX+"/shared",e);t.liked=e=>r(t.DASHBOARD_URL_PREFIX+"/liked",e);t.home=e=>r(t.DASHBOARD_URL_PREFIX+"/home",e);t.settings=e=>r(t.DASHBOARD_URL_PREFIX+"/settings",e);t.registrySettings=e=>r(t.DASHBOARD_URL_PREFIX+"/settings/npm-registry",e);t.permissionSettings=e=>r(t.DASHBOARD_URL_PREFIX+"/settings/permissions",e);t.search=(e,n)=>{let o=r(t.DASHBOARD_URL_PREFIX+"/search",n);return o.includes("?")?o+="&":o+="?",o+="query="+e,o};t.discover=(e,n)=>r(n?`${t.DASHBOARD_URL_PREFIX}/discover/${n}`:t.DASHBOARD_URL_PREFIX+"/discover",e);t.discoverSearch=(e,n)=>{let o=r(t.DASHBOARD_URL_PREFIX+"/discover/search",n);return o.includes("?")?o+="&":o+="?",o+="query="+e,o}}}]);
//# sourceMappingURL=default~app~embed~sandbox~sandbox-startup.55b6cfc89.chunk.js.map